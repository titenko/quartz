
В 2015 году компания Apple внедрила в OS X El Capitan (10.11) новый механизм защиты пользовательских данных от вредоносного ПО, получивший название System Integrity Protection (также известная как SIP или rootless).

![[1618036587_sip.png]]

## Зачем отключать SIP

Например, Вы хотите понизить версию iTunes после очередного обновления или попросту удалить одну из программ Apple: Safari, iTunes, Photo..., но все это предустановленные приложения и удалить их вы не сможете. Но если отключить SIP, то такая возможность у вас появится.

Так же, некоторые "пролеченные" приложения требуют отключения SIP для полноценной работы всех функций из-за особенностей реализации активации.

К сожалению, с выходом macOS 11 Big Sur, Apple пересмотрела принципы безопасности своей операционной системы. Теперь пользователи не имеют прав на изменение папки «Система», доступно только чтение, отключение SIP ничего не меняет. Также, она переместила все свои предустановленные приложения в данную папку, кроме браузера Safari.

---

## Инструкция (отключение SIP)

Отключить SIP из самой macOS невозможно, иначе теряется весь смысл защиты. Поэтому потребуется загрузиться в режим Восстановления (Recovery mode) и выполнить определенные команды в терминале.

1. Запустите Мак в режиме восстановления macOS.   
  
Intel: Перезагрузите компьютер. Как только экран почернеет, нажмите и удерживайте клавиши Cmd + R до появления на экране логотипа Apple. По завершению загрузки вы попадёте в режим восстановления.  
  
Apple Silicon: Удерживайте кнопку питания выключенного Мак (секунд 10). Затем перейдите в "Options". Возможно, потребуется пароль администратора.

![[1629181379_earth.png]]

Если у вас просто загрузилась macOS, вероятно вы слишком поздно зажали комбинацию клавиш, либо слишком рано их отпустили. Перезагрузите компьютер и повторите попытку.

2. Запустите Terminal из меню Utilities:

![[1618118001_utilities.png]]

3. Выполните команду csrutil disable и нажмите Enter.

![[1618117995_terminal.png]]

Добавим, что не каждое пропатченное приложение требует полного отключения SIP.  
Команда csrutil enable --without fs отключит его только для файловой системы, не затрагивая Kernel Extensions и не вмешиваясь в работу NVRAM.

4. Перезагрузите Mac.

![[1618141253_restart.png]]

Иногда отключение SIP может привести к цикличной загрузке Mac в режим Recovery вместо обычного режима. Чтобы устранить эту проблему, при последующей перезагрузке удерживайте на клавиатуре клавишу ⌥Option (Alt) для загрузки в режим выбора дисков. Далее выберите диск с системой и кликните по нем мышкой или нажмите Enter  

---

## Дополнительно

Совсем не обязательно отключать SIP навсегда. Провернув необходимые махинации (запустив нужное приложение), вы можете перейти в Режим восстановления (повторно) и включить защиту Мак командой csrutil enable

Для проверки статуса SIP используйте команду csrutil status

Терминал отобразит: включена (enabled) или отключена (disabled).  
Доступно в обычном режиме, и в режиме восстановления.